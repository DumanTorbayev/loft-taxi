(this["webpackJsonploft-taxi"]=this["webpackJsonploft-taxi"]||[]).push([[0],{114:function(e,t,r){e.exports={card:"card_card__1S9ad"}},119:function(e,t,r){e.exports={message:"error_message__28KRi"}},146:function(e,t,r){},176:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(15),c=r.n(a),s=(r(145),r(146),r(14)),o=r(8),i=r.n(o),l=r(18),u=r(10),d=r(32),j=Object(d.c)({name:"auth",initialState:{isLoggedIn:!1,isLoading:!1,error:null},reducers:{setAuth:function(e){e.isLoading=!0},login:function(e){e.isLoggedIn=!0,e.isLoading=!1,e.error=null},logout:function(e){e.isLoading=!1,e.isLoggedIn=!1},setError:function(e,t){e.isLoading=!1,e.error=t.payload}}}),b=j.actions,m=b.setAuth,O=b.login,f=b.logout,h=b.setError,x=j.reducer,p=r(112),g=r.n(p).a.create({baseURL:"https://loft-taxi.glitch.me"}),v=function(e){return g.post("/auth",e)},_={ACCESS_TOKEN:"ACCESS_TOKEN",AUTH:"AUTH",IS_CARD:"IS_CARD",ROUTES_FAIL:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442",ADDRESS_FAIL:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0430\u0434\u0440\u0435\u0441\u0441\u043e\u0432",CARD_FAIL:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043f\u043e \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0439 \u043a\u0430\u0440\u0442\u0435",CARD_SEND_FAIL:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u044b, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430"},N=function(e){localStorage.setItem(_.ACCESS_TOKEN,e),localStorage.setItem(_.AUTH,"true")},C=i.a.mark(y),S=i.a.mark(L);function y(e){var t,r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(u.b)(v,e.payload);case 3:if(t=n.sent,!(r=t.data).success){n.next=12;break}return n.next=8,Object(u.b)(N,r.token);case 8:return n.next=10,Object(u.c)(O());case 10:n.next=14;break;case 12:return n.next=14,Object(u.c)(h(r.error));case 14:n.next=20;break;case 16:return n.prev=16,n.t0=n.catch(0),n.next=20,Object(u.c)(h(n.t0));case 20:case"end":return n.stop()}}),C,null,[[0,16]])}function L(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.d)(m.type,y);case 2:case"end":return e.stop()}}),S)}var k={setAuth:m,login:O,logout:f},I=Object(d.c)({name:"order",initialState:{addresses:[],coordinates:[],isLoading:!1,error:null},reducers:{getRoutes:function(e){e.isLoading=!0,e.error=null},setAddresses:function(e,t){e.addresses=t.payload,e.error=null},setRoutes:function(e,t){e.coordinates=t.payload,e.isLoading=!1,e.error=null},setError:function(e,t){e.error=t.payload,e.isLoading=!1}}}),w=Object(d.b)("saga/fetchAddresses"),A=I.actions,E=A.getRoutes,R=A.setAddresses,F=A.setRoutes,D=A.setError,T=I.reducer,M=function(){return g.get("/addressList")},U=function(e){return g.get("/route?address1=".concat(e.from,"&address2=").concat(e.to))},q=i.a.mark(Z),P=i.a.mark(z),W=i.a.mark(H),B=i.a.mark(K);function Z(){var e,t;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(u.b)(M);case 3:return e=r.sent,t=e.data,r.next=7,Object(u.c)(R(t.addresses));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(0),console.log(r.t0),r.next=14,Object(u.c)(D(_.ADDRESS_FAIL));case 14:case"end":return r.stop()}}),q,null,[[0,9]])}function z(e){var t,r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(u.b)(U,e.payload);case 3:return t=n.sent,r=t.data,n.next=7,Object(u.c)(F(r));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(u.c)(D(_.ROUTES_FAIL));case 13:case"end":return n.stop()}}),P,null,[[0,9]])}function H(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.d)(w.type,Z);case 2:case"end":return e.stop()}}),W)}function K(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.d)(E.type,z);case 2:case"end":return e.stop()}}),B)}var Y={getRoutes:E,setAddresses:R,setRoutes:F,sagaFetchAddresses:w,setError:D},G=Object(d.c)({name:"profile",initialState:{card:null,isSuccess:!1,error:null,isLoading:!1},reducers:{fetchUserCard:function(e){e.isLoading=!0,e.error=null},setSuccess:function(e,t){e.isSuccess=t.payload,e.isLoading=!1,e.error=null},setCard:function(e,t){e.card=t.payload,e.error=null},setError:function(e,t){e.error=t.payload,e.isLoading=!1}}}),J=Object(d.b)("saga/fetchCard"),Q=G.actions,V=Q.fetchUserCard,X=Q.setSuccess,$=Q.setCard,ee=Q.setError,te=G.reducer,re=function(){return g.get("card?token=".concat(localStorage.getItem(_.ACCESS_TOKEN)))},ne=function(e){return g.post("/card",e)},ae=function(){localStorage.setItem(_.IS_CARD,"true")},ce=i.a.mark(ie),se=i.a.mark(le),oe=i.a.mark(ue);function ie(e){var t,r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(u.b)(ne,e.payload);case 3:if(t=n.sent,r=t.data,console.log(r),!r.success){n.next=13;break}return n.next=9,Object(u.c)(X(!0));case 9:return n.next=11,Object(u.b)(ae);case 11:n.next=15;break;case 13:return n.next=15,Object(u.c)(ee(r.error));case 15:n.next=21;break;case 17:return n.prev=17,n.t0=n.catch(0),n.next=21,Object(u.c)(ee(_.CARD_SEND_FAIL));case 21:case"end":return n.stop()}}),ce,null,[[0,17]])}function le(){var e,t;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(u.b)(re);case 3:return e=r.sent,t=e.data,r.next=7,Object(u.b)(ae);case 7:if(t.hasOwnProperty("success")){r.next=10;break}return r.next=10,Object(u.c)($(t));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(0),r.next=16,Object(u.c)(ee(_.CARD_FAIL));case 16:case"end":return r.stop()}}),se,null,[[0,12]])}function ue(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.d)(V.type,ie);case 2:return e.next=4,Object(u.d)(J.type,le);case 4:case"end":return e.stop()}}),oe)}var de={fetchUserCard:V,setSuccess:X,setCard:$,setError:h,sagaFetchCard:J},je=Object(d.c)({name:"registration",initialState:{isRegisterIn:!1,isLoading:!1,error:null},reducers:{setRegistration:function(e){e.isLoading=!0},fetchRegistration:function(e){e.isRegisterIn=!0,e.isLoading=!1,e.error=null},setError:function(e,t){e.error=t.payload,e.isRegisterIn=!1,e.isLoading=!1}}}),be=je.actions,me=be.setRegistration,Oe=be.fetchRegistration,fe=be.setError,he=je.reducer,xe=function(e){return g.post("/register",e)},pe=i.a.mark(ve),ge=i.a.mark(_e);function ve(e){var t,r,n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(u.b)(xe,t);case 4:if(r=a.sent,!(n=r.data).success){a.next=11;break}return a.next=9,Object(u.c)(Oe());case 9:a.next=13;break;case 11:return a.next=13,Object(u.c)(fe(n.error));case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(1),a.next=19,Object(u.c)(fe(a.t0));case 19:case"end":return a.stop()}}),pe,null,[[1,15]])}function _e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.d)(me.type,ve);case 2:case"end":return e.stop()}}),ge)}var Ne={setRegistration:me,fetchRegistration:Oe,setError:fe},Ce=i.a.mark(Le),Se=Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},k),Y),de),Ne),ye={auth:x,order:T,profile:te,registration:he};function Le(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)([L(),H(),K(),ue(),_e()]);case 2:case"end":return e.stop()}}),Ce)}var ke=r(37),Ie=function(){var e=Object(s.b)();return Object(ke.b)(Se,e)},we=r(34),Ae=Object(we.a)((function(e){return e.isLoggedIn}),(function(e){return e})),Ee=Object(we.a)((function(e){return e.isRegisterIn}),(function(e){return e})),Re=Object(we.a)((function(e){return e.isLoading}),(function(e){return e})),Fe=Object(we.a)((function(e){return e.isSuccess}),(function(e){return e})),De=Object(we.a)((function(e){return e.error}),(function(e){return e})),Te=Object(we.a)((function(e){return e.coordinates}),(function(e){return e})),Me=Object(we.a)((function(e){return e.addresses}),(function(e){return e})),Ue=Object(we.a)((function(e){return e.card}),(function(e){return e})),qe=r(19),Pe=r(2),We=function(e){var t=e.component,r=e.exact,n=e.path;return Object(s.c)((function(e){return Ae(e.auth)}))?Object(Pe.jsx)(qe.b,{component:t,exact:r,path:n}):Object(Pe.jsx)(qe.a,{to:Xt.login})},Be=r(63),Ze=r.n(Be),ze=r(20),He=r(114),Ke=r.n(He),Ye=function(e){var t=e.children;return Object(Pe.jsx)("div",{className:Ke.a.card,children:t})},Ge=r(38),Je=r(207),Qe=r(219),Ve=r(215),Xe=r(222),$e=r(33),et=r(93),tt=r.n(et),rt=r(205),nt=r(202),at=Object(nt.a)({gap:{gap:"0 24px",width:"100%"},formControl:{width:"calc(50% - 12px)"},btnPreloader:{position:"absolute",top:"calc(50% - 12.5px)",left:"calc(50% - 12.5px)",marginRight:"16px",color:"#FDBF5A"}}),ct=r(53),st=r.n(ct),ot=function(e){var t=e.children,r=e.onClick,n=e.disabled,a=e.preloader,c=at();return Object(Pe.jsxs)("button",{onClick:r,disabled:n,className:st()(tt.a.primary,Object($e.a)({},tt.a.primaryDisabled,n)),children:[a?Object(Pe.jsx)(rt.a,{size:25,className:c.btnPreloader}):null,t]})},it=function(){var e=Object(Ge.b)(),t=e.register,r=e.handleSubmit,a=Object(s.c)((function(e){return Me(e.order)})),c=Object(s.c)((function(e){return Re(e.order)})),o=Object(n.useState)(""),i=Object(ze.a)(o,2),u=i[0],d=i[1],j=Object(n.useState)(""),b=Object(ze.a)(j,2),m=b[0],O=b[1],f=Ie().getRoutes,h=function(e){var t=e.target.name,r=e.target.value;"from"===t?d(r):O(r)};return Object(Pe.jsx)(Pe.Fragment,{children:Object(Pe.jsx)(Ye,{children:Object(Pe.jsxs)("form",{className:"form form--order",onSubmit:r((function(e){f(e)})),children:[Object(Pe.jsxs)(Je.a,{fullWidth:!0,margin:"normal",children:[Object(Pe.jsx)(Qe.a,{id:"from",children:"\u041e\u0442\u043a\u0443\u0434\u0430"}),Object(Pe.jsx)(Ve.a,Object(l.a)(Object(l.a)({labelId:"from",id:"from",MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}},t("from")),{},{value:u,onChange:h,children:a.map((function(e){return m!==e&&Object(Pe.jsx)(Xe.a,{value:e,children:e},e)}))}))]}),Object(Pe.jsxs)(Je.a,{fullWidth:!0,margin:"normal",children:[Object(Pe.jsx)(Qe.a,{id:"to",children:"\u041a\u0443\u0434\u0430"}),Object(Pe.jsx)(Ve.a,Object(l.a)(Object(l.a)({labelId:"to",id:"to",MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}},t("to")),{},{value:m,onChange:h,children:a.map((function(e){return u!==e&&Object(Pe.jsx)(Xe.a,{value:e,children:e},e)}))}))]}),Object(Pe.jsx)(ot,{preloader:c,disabled:!u||!m||c,children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"})]})})})},lt=function(e){var t=e.styles,r=Ie().setRoutes;return Object(Pe.jsx)(Ye,{children:Object(Pe.jsxs)("div",{className:t.orderPopup,children:[Object(Pe.jsx)("h2",{className:t.title,children:"\u0417\u0430\u043a\u0430\u0437 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d"}),Object(Pe.jsx)("p",{className:t.descr,children:"\u0412\u0430\u0448\u0435 \u0442\u0430\u043a\u0441\u0438 \u0443\u0436\u0435 \u0435\u0434\u0435\u0442 \u043a \u0432\u0430\u043c. \u041f\u0440\u0438\u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 10 \u043c\u0438\u043d\u0443\u0442."}),Object(Pe.jsx)(ot,{onClick:function(){r([])},children:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437"})]})})},ut=r(94),dt=r.n(ut),jt=r(95),bt=r.n(jt),mt=function(e){var t=e.children,r=Object(n.useRef)(null),a=Object(n.useRef)(null),c=Object(n.useState)(30.319814),o=Object(ze.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)(59.886215),d=Object(ze.a)(u,2),j=d[0],b=d[1],m=Object(n.useState)(9),O=Object(ze.a)(m,2),f=O[0],h=O[1],x=Object(s.c)((function(e){return Te(e.order)})),p=function(e){e.flyTo({center:x[0],zoom:15}),e.addLayer({id:"route",type:"line",source:{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:x}}},layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#ffc617","line-width":8}})};return Object(n.useEffect)((function(){bt.a.accessToken="pk.eyJ1IjoiZC10b3JiYWV2IiwiYSI6ImNrdGNsMHh5ZDI2ejUydm45NzVubWdpZXIifQ.ZCX_RjdS6DGeZs7UsC54OA",a.current||(a.current=new bt.a.Map({container:r.current,style:"mapbox://styles/mapbox/light-v10",center:[i,j],zoom:f}))})),Object(n.useEffect)((function(){a.current&&a.current.on("move",(function(){l(a.current.getCenter().lng.toFixed(4)),b(a.current.getCenter().lat.toFixed(4)),h(a.current.getZoom().toFixed(2))}))})),Object(n.useEffect)((function(){!function(e,t){0!==t.length?(e.on("load",(function(){p(e)})),e.isStyleLoaded()&&p(e)):e.getLayer("route")&&(e.removeLayer("route"),e.removeSource("route"),e.flyTo({center:[i,j],zoom:9}))}(a.current,x)}),[x]),Object(Pe.jsxs)("main",{className:dt.a.layout,children:[t,Object(Pe.jsx)("div",{ref:r,className:dt.a.container})]})},Ot=r(86),ft=r.n(Ot),ht=function(e){var t=e.children,r=ft()({bindTo:document&&document.getElementById("alert-portal")}).Portal;return Object(Pe.jsx)(r,{children:t})},xt=r(216),pt=function(){var e=Ie(),t=e.sagaFetchAddresses,r=e.sagaFetchCard,a=Object(s.c)((function(e){return Te(e.order)})),c=Object(s.c)((function(e){return De(e.order)})),o=Object(s.c)((function(e){return Ue(e.profile)})),i=Object(s.c)((function(e){return De(e.profile)})),l=Object(qe.g)();Object(n.useState)((function(){t(),r()}),[]);return Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)(mt,{children:Object(Pe.jsx)("div",{className:Ze.a.container,children:o||localStorage.getItem(_.IS_CARD)?0===a.length?Object(Pe.jsx)(it,{}):Object(Pe.jsx)(lt,{styles:Ze.a}):Object(Pe.jsx)(Ye,{children:Object(Pe.jsxs)("div",{className:Ze.a.orderPopup,children:[Object(Pe.jsx)("h2",{className:Ze.a.title,children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(Pe.jsx)("p",{className:Ze.a.descr,children:"\u0423 \u0412\u0430\u0441 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435 \u043d\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u043a\u0430\u0440\u0442\u0435. \u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f, \u0412\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0430\u043a\u0441\u0438"}),Object(Pe.jsx)(ot,{onClick:function(){l.push(Xt.profile)},children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})]})})})}),c&&Object(Pe.jsx)(ht,{children:Object(Pe.jsx)(xt.a,{severity:"error",children:c})}),i&&Object(Pe.jsx)(ht,{children:Object(Pe.jsx)(xt.a,{severity:"error",children:i})})]})},gt=r(71),vt=r.n(gt),_t=r(122),Nt=r(208),Ct=r(212),St=r(213),yt=r(26),Lt=r(214),kt=r(121),It=r(96),wt=r.n(It),At=r(119),Et=r.n(At),Rt=function(e){var t=e.children;return Object(Pe.jsx)("span",{className:Et.a.message,children:t})},Ft=Object(_t.a)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:"#FDBF5A"}}},typography:{color:"#000"}}),Dt=function(){var e=Object(s.c)((function(e){return Ue(e.profile)})),t=Object(s.c)((function(e){return Re(e.profile)})),r=Object(s.c)((function(e){return De(e.profile)})),a=Object(Ge.b)(),c=a.handleSubmit,o=a.formState.errors,i=a.control,u=Object(n.useState)(e?e.expiryDate:new Date),d=Object(ze.a)(u,2),j=d[0],b=d[1],m=Object(n.useState)(e?e.cardName:""),O=Object(ze.a)(m,2),f=O[0],h=O[1],x=Object(n.useState)(e?e.cardNumber:""),p=Object(ze.a)(x,2),g=p[0],v=p[1],N=Object(n.useState)(e?e.cvc:""),C=Object(ze.a)(N,2),S=C[0],y=C[1],L=Ie().fetchUserCard,k=at();return Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsxs)("form",{className:"form form--profile",onSubmit:c((function(e){e.token=localStorage.getItem(_.ACCESS_TOKEN),L(e)})),children:[Object(Pe.jsxs)(Je.a,{fullWidth:!0,margin:"normal",children:[Object(Pe.jsx)(Qe.a,{htmlFor:"cardName",children:"\u0418\u043c\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430*"}),Object(Pe.jsx)(Ge.a,{name:"cardName",control:i,rules:{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}},render:function(e){var t=e.field.onChange;return Object(Pe.jsx)(Nt.a,{id:"cardName",value:f,onChange:function(e){t(e.target.value),h(e.target.value)}})}}),o.cardName&&Object(Pe.jsx)(Rt,{children:o.cardName.message})]}),Object(Pe.jsxs)(Je.a,{fullWidth:!0,margin:"normal",children:[Object(Pe.jsx)(Qe.a,{htmlFor:"cardNumber",children:"\u041d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b*"}),Object(Pe.jsx)(Ge.a,{control:i,render:function(e){var t=e.field.onChange;return Object(Pe.jsx)(wt.a,{mask:"9999 9999 9999 9999",value:g,maskChar:" ",onChange:function(e){t(e.target.value),v(e.target.value)},children:function(e){return Object(Pe.jsx)(Nt.a,Object(l.a)({id:"cardNumber"},e))}})},name:"cardNumber",rules:{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"},minLength:{value:16,message:"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 16 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"}}}),o.cardNumber&&Object(Pe.jsx)(Rt,{children:o.cardNumber.message})]}),Object(Pe.jsxs)(Ct.a,{row:!0,className:k.gap,children:[Object(Pe.jsxs)(Je.a,{margin:"normal",className:k.formControl,children:[Object(Pe.jsx)(yt.a,{utils:kt.a,children:Object(Pe.jsx)(St.a,{theme:Ft,children:Object(Pe.jsx)(Ge.a,{name:"expiryDate",control:i,rules:{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}},render:function(e){var t=e.field.onChange;return Object(Pe.jsx)(Lt.a,{autoOk:!0,variant:"dialog",openTo:"year",views:["year","month"],label:"MM/YY",format:"MM/yy",value:j,minDate:new Date,onChange:function(e){t(e),b(e)}})}})})}),o.expiryDate&&Object(Pe.jsx)(Rt,{children:o.expiryDate.message})]}),Object(Pe.jsxs)(Je.a,{margin:"normal",className:k.formControl,children:[Object(Pe.jsx)(Qe.a,{htmlFor:"cvc",children:"CVC*"}),Object(Pe.jsx)(Ge.a,{control:i,render:function(e){var t=e.field,r=t.onChange;t.ref;return Object(Pe.jsx)(wt.a,{mask:"999",value:S,maskChar:" ",onChange:function(e){r(e.target.value),y(e.target.value)},children:function(){return Object(Pe.jsx)(Nt.a,{id:"cvc"})}})},name:"cvc",rules:{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"},minLength:{value:3,message:"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"}}}),o.cvc&&Object(Pe.jsx)(Rt,{children:o.cvc.message})]})]}),Object(Pe.jsx)(ot,{preloader:t,disabled:t,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),r&&Object(Pe.jsx)(ht,{children:Object(Pe.jsx)(xt.a,{severity:"error",children:r})})]})},Tt=function(){var e=Object(s.c)((function(e){return Fe(e.profile)})),t=Object(qe.g)(),r=Ie().setSuccess;return Object(Pe.jsx)("div",{className:vt.a.profile,children:Object(Pe.jsx)(Ye,{children:Object(Pe.jsxs)("div",{className:vt.a.content,children:[Object(Pe.jsx)("h2",{className:vt.a.title,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(Pe.jsx)("p",{className:vt.a,children:e?"\u041f\u043b\u0430\u0442\u0451\u0436\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b. \u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0442\u0430\u043a\u0441\u0438.":"\u0412\u0432\u0434\u0435\u0438\u0442\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),e?Object(Pe.jsx)(ot,{onClick:function(){t.push(Xt.order),r(!1)},children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043a\u0430\u0440\u0442\u0443"}):Object(Pe.jsx)(Dt,{})]})})})},Mt=r(22),Ut=r.n(Mt),qt=r.p+"static/media/logo-h.b62304ff.svg",Pt=r.p+"static/media/burger-menu-icon.de21b81a.svg",Wt=r.p+"static/media/close.ee2dd8dd.svg",Bt=r(30),Zt=function(){var e=Ie().logout,t=Object(n.useState)(!1),r=Object(ze.a)(t,2),a=r[0],c=r[1],s=function(){c(!1)};return Object(Pe.jsx)("header",{className:Ut.a.header,children:Object(Pe.jsxs)("nav",{className:Ut.a.navbar,children:[Object(Pe.jsx)("div",{className:Ut.a.navbarBrand,children:Object(Pe.jsx)("img",{src:qt,alt:"Loft taxi"})}),Object(Pe.jsxs)("ul",{className:st()(Ut.a.navbarList,Object($e.a)({},Ut.a.navbarListActive,a)),children:[Object(Pe.jsx)("li",{className:st()(Ut.a.navbarItem,Ut.a.navbarItemLocation),children:Object(Pe.jsx)(Bt.c,{to:Xt.order,activeClassName:Ut.a.navbarLinkActive,className:Ut.a.navbarLink,onClick:s,children:"\u041a\u0430\u0440\u0442\u0430"})}),Object(Pe.jsx)("li",{className:st()(Ut.a.navbarItem,Ut.a.navbarItemUser),children:Object(Pe.jsx)(Bt.c,{to:Xt.profile,activeClassName:Ut.a.navbarLinkActive,className:Ut.a.navbarLink,onClick:s,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(Pe.jsx)("li",{className:st()(Ut.a.navbarItem,Ut.a.navbarItemLogout),children:Object(Pe.jsx)("a",{href:"#",onClick:function(t){t.preventDefault(),e(),localStorage.removeItem(_.ACCESS_TOKEN),localStorage.removeItem(_.AUTH)},className:Ut.a.navbarLink,children:"\u0412\u044b\u0439\u0442\u0438"})}),Object(Pe.jsx)("li",{className:Ut.a.navbarCloseMenu,onClick:s,children:Object(Pe.jsx)("img",{src:Wt,alt:"close menu"})})]}),Object(Pe.jsx)("div",{className:Ut.a.navbarMobileMenu,onClick:function(){c(!0)},children:Object(Pe.jsx)("img",{src:Pt,alt:"Mobile menu btn"})})]})})},zt=r(72),Ht=r.n(zt),Kt=r.p+"static/media/logo-v.14346112.svg",Yt=function(e){var t=e.children;return Object(Pe.jsxs)("div",{className:Ht.a.container,children:[Object(Pe.jsx)("div",{className:Ht.a.leftCol,children:Object(Pe.jsx)("img",{src:Kt,alt:"Loft taxi",className:Ht.a.logo})}),Object(Pe.jsx)("div",{className:Ht.a.rightCol,children:t})]})},Gt=function(){var e=Object(Ge.b)(),t=e.register,r=e.handleSubmit,n=e.formState.errors,a=Ie().setAuth,c=Object(s.c)((function(e){return Re(e.auth)})),o=Object(s.c)((function(e){return De(e.auth)})),i=ft()({bindTo:document&&document.getElementById("alert-portal")}).Portal;return Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsxs)("form",{className:"form",onSubmit:r((function(e){a(e)})),children:[Object(Pe.jsx)("div",{className:"form__title",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(Pe.jsxs)(Je.a,{fullWidth:!0,margin:"normal",children:[Object(Pe.jsx)(Qe.a,{htmlFor:"email",children:"Email*"}),Object(Pe.jsx)(Nt.a,Object(l.a)({id:"email"},t("email",{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"},pattern:{value:/^\S+@\S+$/i,message:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}}))),n.email&&Object(Pe.jsx)(Rt,{children:n.email.message})]}),Object(Pe.jsxs)(Je.a,{fullWidth:!0,margin:"normal",children:[Object(Pe.jsx)(Qe.a,{htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c*"}),Object(Pe.jsx)(Nt.a,Object(l.a)({id:"password",type:"password"},t("password",{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}}))),n.password&&Object(Pe.jsx)(Rt,{children:n.password.message})]}),Object(Pe.jsx)("a",{href:"#",className:"form__restore-password",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Pe.jsx)(ot,{preloader:c,disabled:c,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(Pe.jsxs)("div",{className:"form__redirect-btn",children:["\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",Object(Pe.jsx)(Bt.b,{to:Xt.registration,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]}),o&&Object(Pe.jsx)(i,{children:Object(Pe.jsx)(xt.a,{severity:"error",children:o})})]})},Jt=function(){return Object(Pe.jsx)(Yt,{children:Object(Pe.jsx)(Ye,{children:Object(Pe.jsx)(Gt,{})})})},Qt=function(){var e=Object(Ge.b)(),t=e.register,r=e.handleSubmit,n=e.formState.errors,a=Ie().setRegistration,c=at(),o=Object(s.c)((function(e){return Ee(e.registration)})),i=Object(s.c)((function(e){return Re(e.registration)})),u=Object(s.c)((function(e){return De(e.registration)}));return Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsxs)("form",{className:"form form--registration",onSubmit:r((function(e){a(e)})),children:[Object(Pe.jsx)("div",{className:"form__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(Pe.jsxs)(Je.a,{fullWidth:!0,margin:"normal",children:[Object(Pe.jsx)(Qe.a,{htmlFor:"email",children:"Email*"}),Object(Pe.jsx)(Nt.a,Object(l.a)({id:"email"},t("email",{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"},pattern:{value:/^\S+@\S+$/i,message:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}}))),n.email&&Object(Pe.jsx)(Rt,{children:n.email.message})]}),Object(Pe.jsxs)(Ct.a,{row:!0,className:c.gap,children:[Object(Pe.jsxs)(Je.a,{margin:"normal",className:c.formControl,children:[Object(Pe.jsx)(Qe.a,{htmlFor:"name",children:"\u0418\u043c\u044f*"}),Object(Pe.jsx)(Nt.a,Object(l.a)({id:"name"},t("name",{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}}))),n.name&&Object(Pe.jsx)(Rt,{children:n.name.message})]}),Object(Pe.jsxs)(Je.a,{margin:"normal",className:c.formControl,children:[Object(Pe.jsx)(Qe.a,{htmlFor:"surname",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f*"}),Object(Pe.jsx)(Nt.a,Object(l.a)({id:"surname"},t("surname",{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}}))),n.surname&&Object(Pe.jsx)(Rt,{children:n.surname.message})]})]}),Object(Pe.jsxs)(Je.a,{fullWidth:!0,margin:"normal",children:[Object(Pe.jsx)(Qe.a,{htmlFor:"password",children:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c*"}),Object(Pe.jsx)(Nt.a,Object(l.a)({id:"password",type:"password"},t("password",{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}}))),n.password&&Object(Pe.jsx)(Rt,{children:n.password.message})]}),Object(Pe.jsx)(ot,{preloader:i,disabled:i,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(Pe.jsxs)("div",{className:"form__redirect-btn",children:["\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",Object(Pe.jsx)(Bt.b,{to:Xt.login,children:"\u0412\u043e\u0439\u0442\u0438"})]})]}),u&&Object(Pe.jsx)(ht,{children:Object(Pe.jsx)(xt.a,{severity:"error",children:u})}),o&&Object(Pe.jsx)(ht,{children:Object(Pe.jsx)(xt.a,{severity:"success",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"})})]})},Vt=function(){return Object(Pe.jsx)(Yt,{children:Object(Pe.jsx)(Ye,{children:Object(Pe.jsx)(Qt,{})})})},Xt={order:"/order",profile:"/profile",login:"/login",registration:"/registration"},$t=function(){var e=Object(s.c)((function(e){return Ae(e.auth)}));return Object(Pe.jsxs)(Pe.Fragment,{children:[e&&Object(Pe.jsx)(Zt,{}),Object(Pe.jsxs)(qe.d,{children:[Object(Pe.jsx)(We,{component:pt,path:Xt.order,exact:!0}),Object(Pe.jsx)(We,{component:Tt,path:Xt.profile,exact:!0}),Object(Pe.jsx)(qe.b,{path:Xt.login,children:e?Object(Pe.jsx)(qe.a,{to:Xt.order}):Object(Pe.jsx)(Jt,{})}),Object(Pe.jsx)(qe.b,{path:Xt.registration,children:e?Object(Pe.jsx)(qe.a,{to:Xt.order}):Object(Pe.jsx)(Vt,{})}),Object(Pe.jsx)(qe.b,{path:"*",children:Object(Pe.jsx)(qe.a,{to:e?Xt.order:Xt.login})}),Object(Pe.jsx)(qe.a,{from:"/",to:Xt.order})]})]})},er=function(){var e=Ie().login;return Object(n.useEffect)((function(){localStorage.getItem(_.AUTH)&&e()}),[]),Object(Pe.jsx)($t,{})},tr=r(123),rr=Object(tr.a)(),nr=Object(ke.c)(Object(l.a)({},ye)),ar=Object(d.a)({reducer:nr,middleware:function(e){return e({thunk:!1}).concat(rr)}});rr.run(Le),c.a.render(Object(Pe.jsx)(s.a,{store:ar,children:Object(Pe.jsx)(Bt.a,{basename:"/loft-taxi",children:Object(Pe.jsx)(er,{})})}),document.getElementById("root"))},22:function(e,t,r){e.exports={header:"header_header__3fn4i",navbar:"header_navbar__33i4-",navbarBrand:"header_navbarBrand__1Qn9S",navbarList:"header_navbarList__w6Nhi",navbarListActive:"header_navbarListActive__1ka9N",navbarItem:"header_navbarItem__a6V8a",navbarItemLocation:"header_navbarItemLocation__1Jb53",navbarItemUser:"header_navbarItemUser__5Zq4Z",navbarItemLogout:"header_navbarItemLogout__1rq2T",navbarLink:"header_navbarLink__3GBwH",navbarLinkActive:"header_navbarLinkActive__28t_I",navbarCloseMenu:"header_navbarCloseMenu__2W6M3",navbarMobileMenu:"header_navbarMobileMenu__3dNqj"}},63:function(e,t,r){e.exports={container:"order_container__YT8Rt",orderPopup:"order_orderPopup__3cz-Q",title:"order_title__1dQZs",descr:"order_descr__3vO9N"}},71:function(e,t,r){e.exports={profile:"profile_profile__tYxoS",content:"profile_content__qBoFb",title:"profile_title__2PIRL",description:"profile_description__1dYGO",alert:"profile_alert__juLsa",profile__description:"profile_profile__description__2QsGt"}},72:function(e,t,r){e.exports={container:"auth-layout_container__3qkN2",leftCol:"auth-layout_leftCol__1irHu",rightCol:"auth-layout_rightCol__3CI0K",logo:"auth-layout_logo__1zYZf"}},93:function(e,t,r){e.exports={primary:"button_primary__3tlG0",primaryDisabled:"button_primaryDisabled__29h02"}},94:function(e,t,r){e.exports={layout:"map_layout__2iTFN",container:"map_container__1PLNa"}}},[[176,1,2]]]);
//# sourceMappingURL=main.86d09360.chunk.js.map