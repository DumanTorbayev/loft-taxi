(this["webpackJsonploft-taxi"]=this["webpackJsonploft-taxi"]||[]).push([[0],{123:function(e,t,r){e.exports={card:"card_card__1S9ad"}},128:function(e,t,r){e.exports={message:"error_message__28KRi"}},157:function(e,t,r){},204:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(14),c=r.n(n),s=(r(156),r(157),r(17)),i=r(28),o=r(8),l=r.n(o),u=r(18),d=r(13),j=r(36),b=Object(j.c)({name:"auth",initialState:{isLoggedIn:!1,isLoading:!1,error:null},reducers:{setAuth:function(e){e.isLoading=!0},login:function(e){e.isLoggedIn=!0,e.isLoading=!1,e.error=null},logout:function(e){e.isLoading=!1,e.isLoggedIn=!1},setError:function(e,t){e.isLoading=!1,e.error=t.payload}}}),m=b.actions,O=m.setAuth,f=m.login,h=m.logout,x=m.setError,p=b.reducer,g={ACCESS_TOKEN:"ACCESS_TOKEN",AUTH:"AUTH",IS_CARD:"IS_CARD"},_=r(121),v=r.n(_).a.create({baseURL:"https://loft-taxi.glitch.me"}),N=function(e){return v.post("/auth",e)},S=l.a.mark(k),y=l.a.mark(w),C=function(e){localStorage.setItem(g.ACCESS_TOKEN,e),localStorage.setItem(g.AUTH,"true")};function k(e){var t,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(d.b)(N,e.payload);case 2:if(t=a.sent,!(r=t.data).success){a.next=11;break}return a.next=7,Object(d.b)(C,r.token);case 7:return a.next=9,Object(d.c)(f());case 9:a.next=13;break;case 11:return a.next=13,Object(d.c)(x(r.error));case 13:case"end":return a.stop()}}),S)}function w(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(O.type,k);case 2:case"end":return e.stop()}}),y)}var L={setAuth:O,login:f,logout:h},E=Object(j.c)({name:"order",initialState:{addresses:[],coordinates:[],isLoading:!1},reducers:{getRoutes:function(e){e.isLoading=!0},setAddresses:function(e,t){e.addresses=t.payload},setRoutes:function(e,t){e.coordinates=t.payload,e.isLoading=!1}}}),I=Object(j.b)("saga/fetchAddresses"),R=E.actions,A=R.getRoutes,F=R.setAddresses,T=R.setRoutes,D=E.reducer,P=function(){return v.get("/addressList")},q=function(e){return v.get("/route?address1=".concat(e.from,"&address2=").concat(e.to))},U=l.a.mark(Y),z=l.a.mark(Z),M=l.a.mark(B),W=l.a.mark(K);function Y(){var e,t;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(d.b)(P);case 3:return e=r.sent,t=e.data,r.next=7,Object(d.c)(F(t.addresses));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0);case 12:case"end":return r.stop()}}),U,null,[[0,9]])}function Z(e){var t,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(d.b)(q,e.payload);case 3:return t=a.sent,r=t.data,a.next=7,Object(d.c)(T(r));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),z,null,[[0,9]])}function B(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(I.type,Y);case 2:case"end":return e.stop()}}),M)}function K(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(A.type,Z);case 2:case"end":return e.stop()}}),W)}var G={getRoutes:A,setAddresses:F,setRoutes:T,sagaFetchAddresses:I},H=Object(j.c)({name:"profile",initialState:{card:null,isSuccess:!1,error:"",isLoading:!1},reducers:{fetchUserCard:function(e){e.isLoading=!0},setSuccess:function(e,t){e.isSuccess=t.payload,e.isLoading=!1},setCard:function(e,t){e.card=t.payload},setError:function(e,t){e.error=t.payload}}}),V=Object(j.b)("saga/fetchCard"),J=H.actions,Q=J.fetchUserCard,X=J.setSuccess,$=J.setCard,ee=J.setError,te=H.reducer,re=function(){return v.get("card?token=".concat(localStorage.getItem(g.ACCESS_TOKEN)))},ae=function(e){return v.post("/card",e)},ne=l.a.mark(oe),ce=l.a.mark(le),se=l.a.mark(ue),ie=function(){localStorage.setItem(g.IS_CARD,"true")};function oe(e){var t,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(d.b)(ae,e.payload);case 3:if(t=a.sent,!(r=t.data).success){a.next=12;break}return a.next=8,Object(d.c)(X(!0));case 8:return a.next=10,Object(d.b)(ie);case 10:a.next=14;break;case 12:return a.next=14,Object(d.c)(ee(r.error));case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),console.log(a.t0);case 19:case"end":return a.stop()}}),ne,null,[[0,16]])}function le(){var e,t;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(d.b)(re);case 3:return e=r.sent,t=e.data,r.next=7,Object(d.b)(ie);case 7:if(t.hasOwnProperty("success")){r.next=10;break}return r.next=10,Object(d.c)($(t));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),console.log(r.t0);case 15:case"end":return r.stop()}}),ce,null,[[0,12]])}function ue(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(Q.type,oe);case 2:return e.next=4,Object(d.d)(V.type,le);case 4:case"end":return e.stop()}}),se)}var de={fetchUserCard:Q,setSuccess:X,setCard:$,setError:x,sagaFetchCard:V},je=Object(j.c)({name:"registration",initialState:{isRegisterIn:!1,isLoading:!1,error:null},reducers:{setRegistration:function(e){e.isLoading=!0},fetchRegistration:function(e){e.isRegisterIn=!0,e.isLoading=!1,e.error=null},setError:function(e,t){e.error=t.payload,e.isRegisterIn=!1,e.isLoading=!1}}}),be=je.actions,me=be.setRegistration,Oe=be.fetchRegistration,fe=be.setError,he=je.reducer,xe=function(e){return v.post("/register",e)},pe=l.a.mark(_e),ge=l.a.mark(ve);function _e(e){var t,r,a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,console.log(t),n.prev=2,n.next=5,Object(d.b)(xe,t);case 5:if(r=n.sent,!(a=r.data).success){n.next=12;break}return n.next=10,Object(d.c)(Oe());case 10:n.next=14;break;case 12:return n.next=14,Object(d.c)(fe(a.error));case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(2),console.log(n.t0);case 19:case"end":return n.stop()}}),pe,null,[[2,16]])}function ve(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(me.type,_e);case 2:case"end":return e.stop()}}),ge)}var Ne={setRegistration:me,fetchRegistration:Oe,setError:fe},Se=l.a.mark(ke),ye=Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},L),G),de),Ne),Ce={auth:p,order:D,profile:te,registration:he};function ke(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([w(),B(),K(),ue(),ve()]);case 2:case"end":return e.stop()}}),Se)}var we=function(){var e=Object(s.b)();return Object(i.b)(ye,e)},Le=r(33),Ee=Object(Le.a)((function(e){return e.isLoggedIn}),(function(e){return e})),Ie=Object(Le.a)((function(e){return e.isRegisterIn}),(function(e){return e})),Re=Object(Le.a)((function(e){return e.isLoading}),(function(e){return e})),Ae=Object(Le.a)((function(e){return e.isSuccess}),(function(e){return e})),Fe=Object(Le.a)((function(e){return e.error}),(function(e){return e})),Te=Object(Le.a)((function(e){return e.coordinates}),(function(e){return e})),De=Object(Le.a)((function(e){return e.addresses}),(function(e){return e})),Pe=Object(Le.a)((function(e){return e.card}),(function(e){return e})),qe=r(19),Ue=r(2),ze=function(e){var t=e.component,r=e.exact,a=e.path;return Object(s.c)((function(e){return Ee(e.auth)}))?Object(Ue.jsx)(qe.b,{component:t,exact:r,path:a}):Object(Ue.jsx)(qe.a,{to:Jt.login})},Me=r(62),We=r.n(Me),Ye=r(20),Ze=r(123),Be=r.n(Ze),Ke=function(e){var t=e.children;return Object(Ue.jsx)("div",{className:Be.a.card,children:t})},Ge=r(37),He=r(235),Ve=r(247),Je=r(243),Qe=r(250),Xe=r(94),$e=r.n(Xe),et=r(233),tt=r(230),rt=Object(tt.a)({gap:{gap:"0 24px",width:"100%"},formControl:{width:"calc(50% - 12px)"},btnPreloader:{position:"absolute",top:"calc(50% - 12.5px)",left:"calc(50% - 12.5px)",marginRight:"16px",color:"#FDBF5A"}}),at=function(e){var t=e.children,r=e.onClick,a=e.disabled,n=e.preloader,c=rt();return Object(Ue.jsxs)("button",{onClick:r,disabled:a,className:"".concat($e.a.primary," ").concat(a?$e.a["primary--disabled"]:""),children:[n?Object(Ue.jsx)(et.a,{size:25,className:c.btnPreloader}):null,t]})},nt=function(){var e=Object(Ge.b)(),t=e.register,r=e.handleSubmit,n=Object(s.c)((function(e){return De(e.order)})),c=Object(s.c)((function(e){return Re(e.order)})),i=Object(a.useState)(""),o=Object(Ye.a)(i,2),l=o[0],d=o[1],j=Object(a.useState)(""),b=Object(Ye.a)(j,2),m=b[0],O=b[1],f=we().getRoutes,h=function(e){"from"===e.target.name?d(e.target.value):O(e.target.value)};return Object(Ue.jsx)(Ke,{children:Object(Ue.jsxs)("form",{className:"form form--order",onSubmit:r((function(e){f(e)})),children:[Object(Ue.jsxs)(He.a,{fullWidth:!0,margin:"normal",children:[Object(Ue.jsx)(Ve.a,{id:"from",children:"\u041e\u0442\u043a\u0443\u0434\u0430"}),Object(Ue.jsx)(Je.a,Object(u.a)(Object(u.a)({labelId:"from",id:"from",MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}},t("from")),{},{value:l,onChange:h,children:n.map((function(e){return m!==e&&Object(Ue.jsx)(Qe.a,{value:e,children:e},e)}))}))]}),Object(Ue.jsxs)(He.a,{fullWidth:!0,margin:"normal",children:[Object(Ue.jsx)(Ve.a,{id:"to",children:"\u041a\u0443\u0434\u0430"}),Object(Ue.jsx)(Je.a,Object(u.a)(Object(u.a)({labelId:"to",id:"to",MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}},t("to")),{},{value:m,onChange:h,children:n.map((function(e){return l!==e&&Object(Ue.jsx)(Qe.a,{value:e,children:e},e)}))}))]}),Object(Ue.jsx)(at,{preloader:c,disabled:!l||!m||c,children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"})]})})},ct=function(e){var t=e.styles,r=we().setRoutes;return Object(Ue.jsx)(Ke,{children:Object(Ue.jsxs)("div",{className:t.orderPopup,children:[Object(Ue.jsx)("h2",{className:t.title,children:"\u0417\u0430\u043a\u0430\u0437 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d"}),Object(Ue.jsx)("p",{className:t.descr,children:"\u0412\u0430\u0448\u0435 \u0442\u0430\u043a\u0441\u0438 \u0443\u0436\u0435 \u0435\u0434\u0435\u0442 \u043a \u0432\u0430\u043c. \u041f\u0440\u0438\u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 10 \u043c\u0438\u043d\u0443\u0442."}),Object(Ue.jsx)(at,{onClick:function(){r([])},children:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437"})]})})},st=r(95),it=r.n(st),ot=r(96),lt=r.n(ot),ut=function(e){var t=e.children,r=Object(a.useRef)(null),n=Object(a.useRef)(null),c=Object(a.useState)(30.319814),i=Object(Ye.a)(c,2),o=i[0],l=i[1],u=Object(a.useState)(59.886215),d=Object(Ye.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(9),O=Object(Ye.a)(m,2),f=O[0],h=O[1],x=Object(s.c)((function(e){return Te(e.order)})),p=function(e){e.flyTo({center:x[0],zoom:15}),e.addLayer({id:"route",type:"line",source:{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:x}}},layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#ffc617","line-width":8}})};return Object(a.useEffect)((function(){lt.a.accessToken="pk.eyJ1IjoiZC10b3JiYWV2IiwiYSI6ImNrdGNsMHh5ZDI2ejUydm45NzVubWdpZXIifQ.ZCX_RjdS6DGeZs7UsC54OA",n.current||(n.current=new lt.a.Map({container:r.current,style:"mapbox://styles/mapbox/light-v10",center:[o,j],zoom:f}))})),Object(a.useEffect)((function(){n.current&&n.current.on("move",(function(){l(n.current.getCenter().lng.toFixed(4)),b(n.current.getCenter().lat.toFixed(4)),h(n.current.getZoom().toFixed(2))}))})),Object(a.useEffect)((function(){!function(e,t){0!==t.length?(e.on("load",(function(){p(e)})),e.isStyleLoaded()&&p(e)):e.getLayer("route")&&(e.removeLayer("route"),e.removeSource("route"),e.flyTo({center:[o,j],zoom:9}))}(n.current,x)}),[x]),Object(Ue.jsxs)("main",{className:it.a.layout,children:[t,Object(Ue.jsx)("div",{ref:r,className:it.a.container})]})},dt=function(){var e=we(),t=e.sagaFetchAddresses,r=e.sagaFetchCard,n=Object(s.c)((function(e){return Te(e.order)})),c=Object(s.c)((function(e){return Pe(e.profile)})),i=Object(qe.g)();Object(a.useState)((function(){t(),r()}),[]);return Object(Ue.jsx)(ut,{children:Object(Ue.jsx)("div",{className:We.a.container,children:c||localStorage.getItem(g.IS_CARD)?0===n.length?Object(Ue.jsx)(nt,{}):Object(Ue.jsx)(ct,{styles:We.a}):Object(Ue.jsx)(Ke,{children:Object(Ue.jsxs)("div",{className:We.a.orderPopup,children:[Object(Ue.jsx)("h2",{className:We.a.title,children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(Ue.jsx)("p",{className:We.a.descr,children:"\u0423 \u0412\u0430\u0441 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435 \u043d\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u043a\u0430\u0440\u0442\u0435. \u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f, \u0412\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0430\u043a\u0441\u0438"}),Object(Ue.jsx)(at,{onClick:function(){i.push(Jt.profile)},children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})]})})})})},jt=r(70),bt=r.n(jt),mt=r(132),Ot=r(236),ft=r(239),ht=r(240),xt=r(25),pt=r(242),gt=r(131),_t=r(97),vt=r.n(_t),Nt=r(128),St=r.n(Nt),yt=function(e){var t=e.children;return Object(Ue.jsx)("span",{className:St.a.message,children:t})},Ct=Object(mt.a)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:"#FDBF5A"}}},typography:{color:"#000"}}),kt=function(){var e=Object(s.c)((function(e){return Pe(e.profile)})),t=Object(s.c)((function(e){return Re(e.profile)})),r=Object(Ge.b)(),n=r.handleSubmit,c=r.formState.errors,i=r.control,o=Object(a.useState)(e?e.expiryDate:new Date),l=Object(Ye.a)(o,2),d=l[0],j=l[1],b=Object(a.useState)(e?e.cardName:""),m=Object(Ye.a)(b,2),O=m[0],f=m[1],h=Object(a.useState)(e?e.cardNumber:""),x=Object(Ye.a)(h,2),p=x[0],_=x[1],v=Object(a.useState)(e?e.cvc:""),N=Object(Ye.a)(v,2),S=N[0],y=N[1],C=we().fetchUserCard,k=rt();return Object(Ue.jsxs)("form",{className:"form form--profile",onSubmit:n((function(e){e.token=localStorage.getItem(g.ACCESS_TOKEN),C(e)})),children:[Object(Ue.jsxs)(He.a,{fullWidth:!0,margin:"normal",children:[Object(Ue.jsx)(Ve.a,{htmlFor:"cardName",children:"\u0418\u043c\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430*"}),Object(Ue.jsx)(Ge.a,{name:"cardName",control:i,rules:{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}},render:function(e){var t=e.field.onChange;return Object(Ue.jsx)(Ot.a,{id:"cardName",value:O,onChange:function(e){t(e.target.value),f(e.target.value)}})}}),c.cardName&&Object(Ue.jsx)(yt,{children:c.cardName.message})]}),Object(Ue.jsxs)(He.a,{fullWidth:!0,margin:"normal",children:[Object(Ue.jsx)(Ve.a,{htmlFor:"cardNumber",children:"\u041d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b*"}),Object(Ue.jsx)(Ge.a,{control:i,render:function(e){var t=e.field.onChange;return Object(Ue.jsx)(vt.a,{mask:"9999 9999 9999 9999",value:p,maskChar:" ",onChange:function(e){t(e.target.value),_(e.target.value)},children:function(e){return Object(Ue.jsx)(Ot.a,Object(u.a)({id:"cardNumber"},e))}})},name:"cardNumber",rules:{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"},minLength:{value:16,message:"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 16 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"}}}),c.cardNumber&&Object(Ue.jsx)(yt,{children:c.cardNumber.message})]}),Object(Ue.jsxs)(ft.a,{row:!0,className:k.gap,children:[Object(Ue.jsxs)(He.a,{margin:"normal",className:k.formControl,children:[Object(Ue.jsx)(xt.a,{utils:gt.a,children:Object(Ue.jsx)(ht.a,{theme:Ct,children:Object(Ue.jsx)(Ge.a,{name:"expiryDate",control:i,rules:{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}},render:function(e){var t=e.field.onChange;return Object(Ue.jsx)(pt.a,{autoOk:!0,variant:"dialog",openTo:"year",views:["year","month"],label:"MM/YY",format:"MM/yy",value:d,minDate:new Date,onChange:function(e){t(e),j(e)}})}})})}),c.expiryDate&&Object(Ue.jsx)(yt,{children:c.expiryDate.message})]}),Object(Ue.jsxs)(He.a,{margin:"normal",className:k.formControl,children:[Object(Ue.jsx)(Ve.a,{htmlFor:"cvc",children:"CVC*"}),Object(Ue.jsx)(Ge.a,{control:i,render:function(e){var t=e.field,r=t.onChange;t.ref;return Object(Ue.jsx)(vt.a,{mask:"999",value:S,maskChar:" ",onChange:function(e){r(e.target.value),y(e.target.value)},children:function(){return Object(Ue.jsx)(Ot.a,{id:"cvc"})}})},name:"cvc",rules:{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"},minLength:{value:3,message:"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"}}}),c.cvc&&Object(Ue.jsx)(yt,{children:c.cvc.message})]})]}),Object(Ue.jsx)(at,{preloader:t,disabled:t,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})},wt=function(){var e=Object(s.c)((function(e){return Ae(e.profile)})),t=Object(qe.g)(),r=we().setSuccess;return Object(Ue.jsx)("div",{className:bt.a.profile,children:Object(Ue.jsx)(Ke,{children:Object(Ue.jsxs)("div",{className:bt.a.content,children:[Object(Ue.jsx)("h2",{className:bt.a.title,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(Ue.jsx)("p",{className:bt.a,children:e?"\u041f\u043b\u0430\u0442\u0451\u0436\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b. \u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0442\u0430\u043a\u0441\u0438.":"\u0412\u0432\u0434\u0435\u0438\u0442\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),e?Object(Ue.jsx)(at,{onClick:function(){t.push(Jt.order),r(!1)},children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043a\u0430\u0440\u0442\u0443"}):Object(Ue.jsx)(kt,{})]})})})},Lt=r(38),Et=r(27),It=r.n(Et),Rt=r.p+"static/media/logo-h.b62304ff.svg",At=r.p+"static/media/burger-menu-icon.de21b81a.svg",Ft=r.p+"static/media/close.ee2dd8dd.svg",Tt=r(31),Dt=r(130),Pt=r.n(Dt),qt=function(){var e=we().logout,t=Object(a.useState)(!1),r=Object(Ye.a)(t,2),n=r[0],c=r[1],s=function(){c(!1)};return Object(Ue.jsx)("header",{className:It.a.header,children:Object(Ue.jsxs)("nav",{className:It.a.navbar,children:[Object(Ue.jsx)("div",{className:It.a.navbar__brand,children:Object(Ue.jsx)("img",{src:Rt,alt:"Loft taxi"})}),Object(Ue.jsxs)("ul",{className:Pt()(It.a.navbar__list,Object(Lt.a)({},It.a["navbar__list--active"],n)),children:[Object(Ue.jsx)("li",{className:It.a.navbar__item,children:Object(Ue.jsx)(Tt.c,{to:Jt.order,activeClassName:It.a["navbar__link--active"],className:It.a.navbar__link,onClick:s,children:"\u041a\u0430\u0440\u0442\u0430"})}),Object(Ue.jsx)("li",{className:It.a.navbar__item,children:Object(Ue.jsx)(Tt.c,{to:Jt.profile,activeClassName:It.a["navbar__link--active"],className:It.a.navbar__link,onClick:s,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(Ue.jsx)("li",{className:It.a.navbar__item,children:Object(Ue.jsx)("a",{href:"#",onClick:function(t){t.preventDefault(),e(),localStorage.removeItem(g.ACCESS_TOKEN),localStorage.removeItem(g.AUTH)},className:It.a.navbar__link,children:"\u0412\u044b\u0439\u0442\u0438"})}),Object(Ue.jsx)("li",{className:It.a["navbar__close-menu"],onClick:s,children:Object(Ue.jsx)("img",{src:Ft,alt:"close menu"})})]}),Object(Ue.jsx)("div",{className:It.a["mobile-menu"],onClick:function(){c(!0)},children:Object(Ue.jsx)("img",{src:At,alt:"Mobile menu btn"})})]})})},Ut=r(71),zt=r.n(Ut),Mt=r.p+"static/media/logo-v.14346112.svg",Wt=function(e){var t=e.children;return Object(Ue.jsxs)("div",{className:zt.a.container,children:[Object(Ue.jsx)("div",{className:zt.a.lc,children:Object(Ue.jsx)("img",{src:Mt,alt:"Loft taxi",className:zt.a.logo})}),Object(Ue.jsx)("div",{className:zt.a.rc,children:t})]})},Yt=r(244),Zt=r(87),Bt=r.n(Zt),Kt=function(){var e=Object(Ge.b)(),t=e.register,r=e.handleSubmit,a=e.formState.errors,n=we().setAuth,c=Object(s.c)((function(e){return Re(e.auth)})),i=Object(s.c)((function(e){return Fe(e.auth)})),o=Bt()({bindTo:document&&document.getElementById("alert-portal")}).Portal;return Object(Ue.jsxs)(Ue.Fragment,{children:[Object(Ue.jsxs)("form",{className:"form",onSubmit:r((function(e){n(e)})),children:[Object(Ue.jsx)("div",{className:"form__title",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(Ue.jsxs)(He.a,{fullWidth:!0,margin:"normal",children:[Object(Ue.jsx)(Ve.a,{htmlFor:"email",children:"Email*"}),Object(Ue.jsx)(Ot.a,Object(u.a)({id:"email"},t("email",{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"},pattern:{value:/^\S+@\S+$/i,message:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}}))),a.email&&Object(Ue.jsx)(yt,{children:a.email.message})]}),Object(Ue.jsxs)(He.a,{fullWidth:!0,margin:"normal",children:[Object(Ue.jsx)(Ve.a,{htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c*"}),Object(Ue.jsx)(Ot.a,Object(u.a)({id:"password",type:"password"},t("password",{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}}))),a.password&&Object(Ue.jsx)(yt,{children:a.password.message})]}),Object(Ue.jsx)("a",{href:"#",className:"form__restore-password",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Ue.jsx)(at,{preloader:c,disabled:c,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(Ue.jsxs)("div",{className:"form__redirect-btn",children:["\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",Object(Ue.jsx)(Tt.b,{to:Jt.registration,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]}),i&&Object(Ue.jsx)(o,{children:Object(Ue.jsx)(Yt.a,{severity:"error",children:i})})]})},Gt=function(){return Object(Ue.jsx)(Wt,{children:Object(Ue.jsx)(Ke,{children:Object(Ue.jsx)(Kt,{})})})},Ht=function(){var e=Object(Ge.b)(),t=e.register,r=e.handleSubmit,a=e.formState.errors,n=we().setRegistration,c=rt(),i=Object(s.c)((function(e){return Ie(e.registration)})),o=Object(s.c)((function(e){return Re(e.registration)})),l=Object(s.c)((function(e){return Fe(e.registration)})),d=Bt()({bindTo:document&&document.getElementById("alert-portal")}).Portal;return Object(Ue.jsxs)(Ue.Fragment,{children:[Object(Ue.jsxs)("form",{className:"form form--registration",onSubmit:r((function(e){n(e)})),children:[Object(Ue.jsx)("div",{className:"form__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(Ue.jsxs)(He.a,{fullWidth:!0,margin:"normal",children:[Object(Ue.jsx)(Ve.a,{htmlFor:"email",children:"Email*"}),Object(Ue.jsx)(Ot.a,Object(u.a)({id:"email"},t("email",{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"},pattern:{value:/^\S+@\S+$/i,message:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}}))),a.email&&Object(Ue.jsx)(yt,{children:a.email.message})]}),Object(Ue.jsxs)(ft.a,{row:!0,className:c.gap,children:[Object(Ue.jsxs)(He.a,{margin:"normal",className:c.formControl,children:[Object(Ue.jsx)(Ve.a,{htmlFor:"name",children:"\u0418\u043c\u044f*"}),Object(Ue.jsx)(Ot.a,Object(u.a)({id:"name"},t("name",{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}}))),a.name&&Object(Ue.jsx)(yt,{children:a.name.message})]}),Object(Ue.jsxs)(He.a,{margin:"normal",className:c.formControl,children:[Object(Ue.jsx)(Ve.a,{htmlFor:"surname",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f*"}),Object(Ue.jsx)(Ot.a,Object(u.a)({id:"surname"},t("surname",{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}}))),a.surname&&Object(Ue.jsx)(yt,{children:a.surname.message})]})]}),Object(Ue.jsxs)(He.a,{fullWidth:!0,margin:"normal",children:[Object(Ue.jsx)(Ve.a,{htmlFor:"password",children:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c*"}),Object(Ue.jsx)(Ot.a,Object(u.a)({id:"password",type:"password"},t("password",{required:{value:!0,message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}}))),a.password&&Object(Ue.jsx)(yt,{children:a.password.message})]}),Object(Ue.jsx)(at,{preloader:o,disabled:o,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(Ue.jsxs)("div",{className:"form__redirect-btn",children:["\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",Object(Ue.jsx)(Tt.b,{to:Jt.login,children:"\u0412\u043e\u0439\u0442\u0438"})]})]}),l&&Object(Ue.jsx)(d,{children:Object(Ue.jsx)(Yt.a,{severity:"error",children:l})}),i&&Object(Ue.jsx)(d,{children:Object(Ue.jsx)(Yt.a,{severity:"success",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"})})]})},Vt=function(){return Object(Ue.jsx)(Wt,{children:Object(Ue.jsx)(Ke,{children:Object(Ue.jsx)(Ht,{})})})},Jt={order:"/order",profile:"/profile",login:"/login",registration:"/registration"},Qt=function(){var e=Object(s.c)((function(e){return Ee(e.auth)}));return Object(Ue.jsxs)(Ue.Fragment,{children:[e&&Object(Ue.jsx)(qt,{}),Object(Ue.jsxs)(qe.d,{children:[Object(Ue.jsx)(ze,{component:dt,path:Jt.order,exact:!0}),Object(Ue.jsx)(ze,{component:wt,path:Jt.profile,exact:!0}),Object(Ue.jsx)(qe.b,{path:Jt.login,children:e?Object(Ue.jsx)(qe.a,{to:Jt.order}):Object(Ue.jsx)(Gt,{})}),Object(Ue.jsx)(qe.b,{path:Jt.registration,children:e?Object(Ue.jsx)(qe.a,{to:Jt.order}):Object(Ue.jsx)(Vt,{})}),Object(Ue.jsx)(qe.b,{path:"*",children:Object(Ue.jsx)(qe.a,{to:e?Jt.order:Jt.login})}),Object(Ue.jsx)(qe.a,{from:"/",to:Jt.order})]})]})},Xt=function(){var e=we().login;return Object(a.useEffect)((function(){localStorage.getItem(g.AUTH)&&e()}),[]),Object(Ue.jsx)(Qt,{})},$t=r(133),er=Object($t.a)(),tr=Object(i.c)(Object(u.a)({},Ce)),rr=Object(j.a)({reducer:tr,middleware:function(e){return e({thunk:!1}).concat(er)}});er.run(ke),c.a.render(Object(Ue.jsx)(s.a,{store:rr,children:Object(Ue.jsx)(Tt.a,{basename:"/loft-taxi",children:Object(Ue.jsx)(Xt,{})})}),document.getElementById("root"))},27:function(e,t,r){e.exports={header:"header_header__3fn4i",navbar:"header_navbar__33i4-",navbar__brand:"header_navbar__brand__1E6aq",navbar__list:"header_navbar__list__16PW5","navbar__list--active":"header_navbar__list--active__1GsxV",navbar__item:"header_navbar__item__t_RBp",navbar__link:"header_navbar__link__3ylVZ","navbar__link--active":"header_navbar__link--active__1nbcz","navbar__close-menu":"header_navbar__close-menu__1MfmL","mobile-menu":"header_mobile-menu__E6xmV"}},62:function(e,t,r){e.exports={container:"order_container__YT8Rt",orderPopup:"order_orderPopup__3cz-Q",title:"order_title__1dQZs",descr:"order_descr__3vO9N"}},70:function(e,t,r){e.exports={profile:"profile_profile__tYxoS",content:"profile_content__qBoFb",title:"profile_title__2PIRL",description:"profile_description__1dYGO",alert:"profile_alert__juLsa",profile__description:"profile_profile__description__2QsGt"}},71:function(e,t,r){e.exports={container:"auth-layout_container__3qkN2",lc:"auth-layout_lc__3zY2O",rc:"auth-layout_rc__vnCk2",logo:"auth-layout_logo__1zYZf"}},94:function(e,t,r){e.exports={primary:"button_primary__3tlG0","primary--disabled":"button_primary--disabled__1Fu9_"}},95:function(e,t,r){e.exports={layout:"map_layout__2iTFN",container:"map_container__1PLNa"}}},[[204,1,2]]]);
//# sourceMappingURL=main.ca952a1f.chunk.js.map